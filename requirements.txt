# AI Service - Ultra-Lightweight Dependencies
# Total footprint: ~325MB disk, ~750MB peak RAM

# Build tools
setuptools>=69.0.0
wheel>=0.42.0

# FastAPI and server
fastapi>=0.109.0,<1.0.0
uvicorn[standard]>=0.27.0,<1.0.0
python-multipart>=0.0.6,<1.0.0
pydantic>=2.5.0,<3.0.0
pydantic-settings>=2.1.0,<3.0.0

# LLM - llama.cpp Python bindings
# Gemma 3 270M Q4 (~200MB model, ~450MB RAM)
llama-cpp-python>=0.2.90,<1.0.0

# LangChain for orchestration and agents (~40-60MB RAM)
langchain>=0.3.0,<1.0.0
langchain-core>=0.3.0,<1.0.0

# ONNX Runtime - lightweight inference for face models (~20MB)
onnxruntime>=1.16.0,<2.0.0

# Image processing - minimal dependencies
numpy>=1.26.0,<2.0.0
scipy>=1.11.0,<2.0.0
opencv-python-headless>=4.9.0,<5.0.0
Pillow>=10.2.0,<11.0.0

# OCR - Tesseract (C++ based, ~30MB, ~80MB RAM)
# pytesseract is just a wrapper, actual tesseract must be installed on system
pytesseract>=0.3.10,<1.0.0

# Utilities
httpx>=0.26.0,<1.0.0
aiofiles>=23.2.0,<24.0.0

# Logging
structlog>=24.1.0,<25.0.0

# Testing
pytest>=7.4.0,<8.0.0
pytest-asyncio>=0.23.0,<1.0.0

# InsightFace for Production-Grade KYC (Added Jan 2026)
insightface==0.7.3
onnxruntime==1.20.1
opencv-python-headless==4.10.0.84
