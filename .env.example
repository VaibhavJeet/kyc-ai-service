# ===========================================
# TrustVault Configuration
# ===========================================

# Application Settings
APP_NAME=TrustVault
APP_VERSION=1.0.0
DEBUG=true
ENVIRONMENT=development

# Server Settings
HOST=0.0.0.0
PORT=8000
WORKERS=4

# Security Settings
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEY=your-secure-api-key-here

# CORS (comma-separated origins, or * for all in debug mode)
ALLOWED_ORIGINS=*

# ===========================================
# ML Model Settings
# ===========================================

MODEL_CACHE_DIR=./models

# LLM - Gemma 3 270M Q4
LLM_MODEL_PATH=./models/gemma-3-270m-it-q4_k_m.gguf
LLM_CONTEXT_SIZE=2048
LLM_MAX_TOKENS=512
LLM_TEMPERATURE=0.7
LLM_THREADS=8

# ===========================================
# Face Verification Settings
# ===========================================

# InsightFace uses buffalo_l model pack (auto-downloaded)
FACE_DETECTION_THRESHOLD=0.7
FACE_MATCH_THRESHOLD=0.85
FACE_EMBEDDING_DIM=512

# ===========================================
# Liveness Detection Settings
# ===========================================

LIVENESS_THRESHOLD=0.6
LIVENESS_MIN_BLUR_VARIANCE=50.0
LIVENESS_MIN_SATURATION=0.05
LIVENESS_MIN_FACE_RATIO=0.1
LIVENESS_MAX_FACE_RATIO=0.8
MIN_FACE_SIZE=80

# ===========================================
# OCR Settings
# ===========================================

TESSERACT_LANG=eng
TESSERACT_CONFIG=--oem 3 --psm 6

# ===========================================
# Trust Score Thresholds
# ===========================================

TRUST_AUTO_APPROVE_THRESHOLD=0.85
TRUST_MANUAL_REVIEW_THRESHOLD=0.50
TRUST_REJECTION_THRESHOLD=0.50

# ===========================================
# Rate Limiting
# ===========================================

RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ===========================================
# Webhook Settings
# ===========================================

WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_COUNT=3
WEBHOOK_RETRY_DELAY=60

# ===========================================
# Feature Flags
# ===========================================

ENABLE_BUSINESS_VERIFICATION=true
ENABLE_CONSENT_RECORDING=true
ENABLE_SCAM_DETECTION=false
ENABLE_DEEPFAKE_DETECTION=false

# ===========================================
# Database (Optional - for persistence)
# ===========================================

# DATABASE_URL=postgresql://user:password@localhost:5432/trustvault
# REDIS_URL=redis://localhost:6379/0

# ===========================================
# Storage (Optional)
# ===========================================

# STORAGE_BACKEND=local
# STORAGE_PATH=./storage
# S3_BUCKET=trustvault-uploads
# S3_REGION=ap-south-1
